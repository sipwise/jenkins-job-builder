{
  "comments": [
    {
      "key": {
        "uuid": "AAAATH//k9M\u003d",
        "filename": "jenkins_jobs/cmd.py",
        "patchSetId": 3
      },
      "lineNbr": 88,
      "author": {
        "id": 2475
      },
      "writtenOn": "2013-10-14T10:26:03Z",
      "side": 1,
      "message": "I am pretty sure you can pass a dict representation of TEST_CONF as a first parameter to ConfigParser(). Something like:\n\n config \u003d ConfigParser.ConfigParser( {\n \u0027jenkins\u0027 : {\n    \u0027url\u0027: \u0027http://localhost:8080/\u0027,\n    \u0027user\u0027: \u0027\u0027,\n    \u0027password\u0027: \u0027\u0027,\n    },\n } )\n\nThat would save the cStringIO import.\n\nhttp://docs.python.org/2/library/configparser.html#ConfigParser.ConfigParser has a \"defaults\" parameter.",
      "revId": "048d5221137a11111ad475f6d8cd674875eb14f5",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAATH//Kuc\u003d",
        "filename": "jenkins_jobs/cmd.py",
        "patchSetId": 3
      },
      "lineNbr": 88,
      "author": {
        "id": 1054
      },
      "writtenOn": "2013-10-22T05:38:34Z",
      "side": 1,
      "message": "Use of \u0027defaults\u0027 would mean \u0027url\u0027, \u0027user\u0027 \u0026 \u0027password\u0027 are valid options for any section.\n\nAdditionally setting them at creation time at this point in the code would result in these options being set for all cases, not just when running the \u0027test\u0027 command. Which would mean that ini files missing the required values wouldn\u0027t result in an exception. I believe this was part of the reasoning of a previous objection\n\nI see a few alternatives\n\n* Use io.BytesIO(TEST_CONF) instead - still end up with a new import\n* Move the line above back to just before the conf file is read into the config object, and have a separate initialisation with a \u0027defaults\u0027 dict provided in the section dealing with the \u0027test\u0027 command.\n* Use \u0027config.add_section(\"jenkins\")\u0027 followed by \u0027config.set(\"jenkins\", \"url\", ...)\u0027 for the three options that need to return values when called below for creating the \u0027builder\u0027 object\n* Go with the proposed change\n\nAny other approaches?",
      "parentUuid": "AAAATH//k9M\u003d",
      "revId": "048d5221137a11111ad475f6d8cd674875eb14f5",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}