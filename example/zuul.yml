- project:
    name: zuul
    github-org: openstack-ci
    node: precise
    jobs:
      - python-jobs
      # TODO: standardize these
      #- gate-{name}-pyflakes
      #- '{name}-docs

- job:
    name: gate-zuul-pyflakes
    project-type: freestyle
    concurrent: true
    node: precise

    properties:
      - github:
          url: https://github.com/openstack-ci/zuul
      - throttle:
          max-per-node: 0
          max-total: 0
          option: project
          enabled: false

    wrappers:
      - timeout:
          timeout: 30
          fail: true
      - timestamps

    triggers:
      - zuul

    builders:
      - gerrit_git_prep
      - pyflakes


- job:
    name: zuul-docs
    project-type: freestyle
    concurrent: true
    node: precise

    properties:
      - github:
          url: https://github.com/openstack-ci/zuul
      - throttle:
          max-per-node: 0
          max-total: 0
          option: project
          enabled: false

    wrappers:
      - timeout:
          timeout: 30
          fail: true
      - timestamps

    triggers:
      - zuul_post

    logrotate:
      daysToKeep: 28
      numToKeep: -1
      artifactDaysToKeep: -1
      artifactNumToKeep: -1

    builders:
      - gerrit_git_prep
      - docs

    publishers:
      - scp:
          site: '173.203.107.207'
          source: 'doc/build/html/**/*'
          target: 'ci/zuul'
          keep-hierarchy: true
