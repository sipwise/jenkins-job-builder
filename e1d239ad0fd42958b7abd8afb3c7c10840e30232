{
  "comments": [
    {
      "key": {
        "uuid": "5f7c97a3_904a20ab",
        "filename": "jenkins_jobs/modules/publishers.py",
        "patchSetId": 1
      },
      "lineNbr": 647,
      "author": {
        "id": 13807
      },
      "writtenOn": "2018-07-12T15:16:36Z",
      "side": 1,
      "message": "@Darragh, a bit off topic but I wonder if we can make the 4th input here some kind of `**kwargs`. The benefit would be that we can pass random additional parameters like:\n\n * list of valid inputs\n * switch to uppercase words\n * switch to lowercase words\n * ... switches to further modify inputs",
      "range": {
        "startLine": 647,
        "startChar": 40,
        "endLine": 647,
        "endChar": 60
      },
      "revId": "e1d239ad0fd42958b7abd8afb3c7c10840e30232",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f7c97a3_300eac8c",
        "filename": "jenkins_jobs/modules/publishers.py",
        "patchSetId": 1
      },
      "lineNbr": 653,
      "author": {
        "id": 28246
      },
      "writtenOn": "2018-07-12T15:14:35Z",
      "side": 1,
      "message": "I have a question regarding this block of code as I seen a couple of similar blocks in the codebase. Can we rewrite this as:\n\n\u0027\u0027\u0027\nmappings \u003d [\n    (\u0027workspace-exclude-glob\u0027, \u0027workspaceExcludeGlob\u0027, \u0027\u0027),\n]\nhelpers.convert_mapping_to_xml(\n        cloneworkspace, data, mappings, fail_required\u003dFalse)\n\u0027\u0027\u0027\n\nIt is treated as an optional input and there are pros and cons to it.\n\nPros:\n-Easier to read\n-Easier to standardize\n\nCons: \n-New code will add an empty \"\u003cworkspaceExcludeGlob /\u003e\" that does nothing",
      "revId": "e1d239ad0fd42958b7abd8afb3c7c10840e30232",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f7c97a3_b0a39c43",
        "filename": "jenkins_jobs/modules/publishers.py",
        "patchSetId": 1
      },
      "lineNbr": 653,
      "author": {
        "id": 13807
      },
      "writtenOn": "2018-07-12T15:20:54Z",
      "side": 1,
      "message": "I\u0027d prefer it to go into the mapping too.\n\nThere used to be an assumption that we shouldn\u0027t pass parameter XML unless it\u0027s configured but the behaviour of Jenkins turns out when you exclude a configuration is to Keep the previous result. So in cases where you set something, and then remove it from JJB leaves that setting set in Jenkins.\n\nI think it\u0027s better behaviour that we send explicit empty XML like \u003cworkspaceExcludeGlob/\u003e because this causes Jenkins to reset that setting rather than leave the last configured result.\n\n(Although I believe this behaviour is fixed in newer versions of Jenkins upstream but I have not confirmed that.)",
      "parentUuid": "5f7c97a3_300eac8c",
      "revId": "e1d239ad0fd42958b7abd8afb3c7c10840e30232",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f7c97a3_904300b1",
        "filename": "tests/publishers/fixtures/clone-workspace002.yaml",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 13807
      },
      "writtenOn": "2018-07-12T15:13:16Z",
      "side": 1,
      "message": "This will likely break users since the past version of this automatically uppercased.\n\nAt least we throw an exception to let them know so might be ok.",
      "range": {
        "startLine": 3,
        "startChar": 6,
        "endLine": 4,
        "endChar": 27
      },
      "revId": "e1d239ad0fd42958b7abd8afb3c7c10840e30232",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f7c97a3_109a9012",
        "filename": "tests/publishers/fixtures/clone-workspace002.yaml",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 28246
      },
      "writtenOn": "2018-07-12T15:21:17Z",
      "side": 1,
      "message": "I see. It will fail the tests though if I change this back to lower case. Or should I change the options in the list to lowercase?",
      "parentUuid": "5f7c97a3_904300b1",
      "range": {
        "startLine": 3,
        "startChar": 6,
        "endLine": 4,
        "endChar": 27
      },
      "revId": "e1d239ad0fd42958b7abd8afb3c7c10840e30232",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f7c97a3_b6a954df",
        "filename": "tests/publishers/fixtures/clone-workspace002.yaml",
        "patchSetId": 1
      },
      "lineNbr": 4,
      "author": {
        "id": 13807
      },
      "writtenOn": "2018-07-12T16:00:01Z",
      "side": 1,
      "message": "You can\u0027t change the tests. Jenkins expects uppercase TAR and ZIP right?\n\nIf we change it to lowercase Jenkins will likely stop working. Unless the upstream plugin is manipulating the input too. Might be worth trying if you want to spin up a Jenkins server and see if the setting get\u0027s configured when it\u0027s lowercase (I suspect not)",
      "parentUuid": "5f7c97a3_109a9012",
      "range": {
        "startLine": 3,
        "startChar": 6,
        "endLine": 4,
        "endChar": 27
      },
      "revId": "e1d239ad0fd42958b7abd8afb3c7c10840e30232",
      "serverId": "4a232e18-c5a9-48ee-94c0-e04e7cca6543",
      "unresolved": false
    }
  ]
}